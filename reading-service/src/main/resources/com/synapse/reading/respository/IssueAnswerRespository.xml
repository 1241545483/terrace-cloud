<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.synapse.reading.respository.IssueAnswerRespository">

    <delete id="deleteByCreateId" parameterType="map" >

        DELETE s from issue_answer s
            join issue b on s.issue_id=b.rec_id  AND  b.belong_to_id = #{belongToId} AND b.belong_to=#{belongTo}
        where s.create_id =#{createId};
    </delete>


    <select id="listUser" resultType="java.lang.String" parameterType="map" >
        SELECT b.name from issue_answer s
            join member b on b.user_id = s.create_id
        where s.item_id =#{issueItemId}
        <if test="createId != null" >
             and  s.create_id =#{create_id}
        </if>
        ;
    </select>

</mapper>
